/**
 * Generated by orval v6.31.0 ðŸº
 * Do not edit manually.
 * dataing
 * Autonomous Data Quality Investigation
 * OpenAPI spec version: 2.0.0
 */
import { useQuery } from "@tanstack/react-query";
import type {
  QueryFunction,
  QueryKey,
  UseQueryOptions,
  UseQueryResult,
} from "@tanstack/react-query";
import type { HTTPValidationError, PermissionGrantResponse } from "../../model";
import { customInstance } from "../../client";

/**
 * Get all permissions for an investigation.
 * @summary Get Investigation Permissions
 */
export const getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet =
  (investigationId: string, signal?: AbortSignal) => {
    return customInstance<PermissionGrantResponse[]>({
      url: `/api/v1/investigations/${investigationId}/permissions/`,
      method: "GET",
      signal,
    });
  };

export const getGetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryKey =
  (investigationId: string) => {
    return [`/api/v1/investigations/${investigationId}/permissions/`] as const;
  };

export const getGetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryOptions =
  <
    TData = Awaited<
      ReturnType<
        typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
      >
    >,
    TError = HTTPValidationError,
  >(
    investigationId: string,
    options?: {
      query?: Partial<
        UseQueryOptions<
          Awaited<
            ReturnType<
              typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
            >
          >,
          TError,
          TData
        >
      >;
    },
  ) => {
    const { query: queryOptions } = options ?? {};

    const queryKey =
      queryOptions?.queryKey ??
      getGetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryKey(
        investigationId,
      );

    const queryFn: QueryFunction<
      Awaited<
        ReturnType<
          typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
        >
      >
    > = ({ signal }) =>
      getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet(
        investigationId,
        signal,
      );

    return {
      queryKey,
      queryFn,
      enabled: !!investigationId,
      ...queryOptions,
    } as UseQueryOptions<
      Awaited<
        ReturnType<
          typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
        >
      >,
      TError,
      TData
    > & { queryKey: QueryKey };
  };

export type GetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryResult =
  NonNullable<
    Awaited<
      ReturnType<
        typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
      >
    >
  >;
export type GetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryError =
  HTTPValidationError;

/**
 * @summary Get Investigation Permissions
 */
export const useGetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet =
  <
    TData = Awaited<
      ReturnType<
        typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
      >
    >,
    TError = HTTPValidationError,
  >(
    investigationId: string,
    options?: {
      query?: Partial<
        UseQueryOptions<
          Awaited<
            ReturnType<
              typeof getInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGet
            >
          >,
          TError,
          TData
        >
      >;
    },
  ): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
    const queryOptions =
      getGetInvestigationPermissionsApiV1InvestigationsInvestigationIdPermissionsGetQueryOptions(
        investigationId,
        options,
      );

    const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & {
      queryKey: QueryKey;
    };

    query.queryKey = queryOptions.queryKey;

    return query;
  };
