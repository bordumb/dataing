/**
 * Generated by orval v6.31.0 ðŸº
 * Do not edit manually.
 * dataing
 * Autonomous Data Quality Investigation
 * OpenAPI spec version: 2.0.0
 */
import { useQuery } from "@tanstack/react-query";
import type {
  QueryFunction,
  QueryKey,
  UseQueryOptions,
  UseQueryResult,
} from "@tanstack/react-query";
import type {
  AuditLogListResponse,
  AuditLogResponse,
  ExportAuditLogsApiV1AuditLogsExportGetParams,
  HTTPValidationError,
  ListAuditLogsApiV1AuditLogsGetParams,
} from "../../model";
import { customInstance } from "../../client";

/**
 * List audit logs with filtering and pagination.

Args:
    request: The current request.
    audit_repo: Audit repository dependency.
    page: Page number (1-indexed).
    limit: Number of items per page.
    start_date: Filter entries after this date.
    end_date: Filter entries before this date.
    action: Filter by action type.
    actor_id: Filter by actor UUID.
    resource_type: Filter by resource type.
    search: Search in resource_name and action.

Returns:
    Paginated list of audit log entries.
 * @summary List Audit Logs
 */
export const listAuditLogsApiV1AuditLogsGet = (
  params?: ListAuditLogsApiV1AuditLogsGetParams,
  signal?: AbortSignal,
) => {
  return customInstance<AuditLogListResponse>({
    url: `/api/v1/audit-logs`,
    method: "GET",
    params,
    signal,
  });
};

export const getListAuditLogsApiV1AuditLogsGetQueryKey = (
  params?: ListAuditLogsApiV1AuditLogsGetParams,
) => {
  return [`/api/v1/audit-logs`, ...(params ? [params] : [])] as const;
};

export const getListAuditLogsApiV1AuditLogsGetQueryOptions = <
  TData = Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>,
  TError = HTTPValidationError,
>(
  params?: ListAuditLogsApiV1AuditLogsGetParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>,
        TError,
        TData
      >
    >;
  },
) => {
  const { query: queryOptions } = options ?? {};

  const queryKey =
    queryOptions?.queryKey ?? getListAuditLogsApiV1AuditLogsGetQueryKey(params);

  const queryFn: QueryFunction<
    Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>
  > = ({ signal }) => listAuditLogsApiV1AuditLogsGet(params, signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ListAuditLogsApiV1AuditLogsGetQueryResult = NonNullable<
  Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>
>;
export type ListAuditLogsApiV1AuditLogsGetQueryError = HTTPValidationError;

/**
 * @summary List Audit Logs
 */
export const useListAuditLogsApiV1AuditLogsGet = <
  TData = Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>,
  TError = HTTPValidationError,
>(
  params?: ListAuditLogsApiV1AuditLogsGetParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listAuditLogsApiV1AuditLogsGet>>,
        TError,
        TData
      >
    >;
  },
): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getListAuditLogsApiV1AuditLogsGetQueryOptions(
    params,
    options,
  );

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & {
    queryKey: QueryKey;
  };

  query.queryKey = queryOptions.queryKey;

  return query;
};

/**
 * Export audit logs as CSV.

Args:
    request: The current request.
    audit_repo: Audit repository dependency.
    start_date: Filter entries after this date.
    end_date: Filter entries before this date.
    action: Filter by action type.
    actor_id: Filter by actor UUID.
    resource_type: Filter by resource type.
    search: Search in resource_name and action.

Returns:
    CSV file as streaming response.
 * @summary Export Audit Logs
 */
export const exportAuditLogsApiV1AuditLogsExportGet = (
  params?: ExportAuditLogsApiV1AuditLogsExportGetParams,
  signal?: AbortSignal,
) => {
  return customInstance<unknown>({
    url: `/api/v1/audit-logs/export`,
    method: "GET",
    params,
    signal,
  });
};

export const getExportAuditLogsApiV1AuditLogsExportGetQueryKey = (
  params?: ExportAuditLogsApiV1AuditLogsExportGetParams,
) => {
  return [`/api/v1/audit-logs/export`, ...(params ? [params] : [])] as const;
};

export const getExportAuditLogsApiV1AuditLogsExportGetQueryOptions = <
  TData = Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>,
  TError = HTTPValidationError,
>(
  params?: ExportAuditLogsApiV1AuditLogsExportGetParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>,
        TError,
        TData
      >
    >;
  },
) => {
  const { query: queryOptions } = options ?? {};

  const queryKey =
    queryOptions?.queryKey ??
    getExportAuditLogsApiV1AuditLogsExportGetQueryKey(params);

  const queryFn: QueryFunction<
    Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>
  > = ({ signal }) => exportAuditLogsApiV1AuditLogsExportGet(params, signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ExportAuditLogsApiV1AuditLogsExportGetQueryResult = NonNullable<
  Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>
>;
export type ExportAuditLogsApiV1AuditLogsExportGetQueryError =
  HTTPValidationError;

/**
 * @summary Export Audit Logs
 */
export const useExportAuditLogsApiV1AuditLogsExportGet = <
  TData = Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>,
  TError = HTTPValidationError,
>(
  params?: ExportAuditLogsApiV1AuditLogsExportGetParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof exportAuditLogsApiV1AuditLogsExportGet>>,
        TError,
        TData
      >
    >;
  },
): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getExportAuditLogsApiV1AuditLogsExportGetQueryOptions(
    params,
    options,
  );

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & {
    queryKey: QueryKey;
  };

  query.queryKey = queryOptions.queryKey;

  return query;
};

/**
 * Get a single audit log entry.

Args:
    request: The current request.
    entry_id: UUID of the audit log entry.
    audit_repo: Audit repository dependency.

Returns:
    Audit log entry details.

Raises:
    HTTPException: If entry not found (404).
 * @summary Get Audit Log
 */
export const getAuditLogApiV1AuditLogsEntryIdGet = (
  entryId: string,
  signal?: AbortSignal,
) => {
  return customInstance<AuditLogResponse>({
    url: `/api/v1/audit-logs/${entryId}`,
    method: "GET",
    signal,
  });
};

export const getGetAuditLogApiV1AuditLogsEntryIdGetQueryKey = (
  entryId: string,
) => {
  return [`/api/v1/audit-logs/${entryId}`] as const;
};

export const getGetAuditLogApiV1AuditLogsEntryIdGetQueryOptions = <
  TData = Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>,
  TError = HTTPValidationError,
>(
  entryId: string,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>,
        TError,
        TData
      >
    >;
  },
) => {
  const { query: queryOptions } = options ?? {};

  const queryKey =
    queryOptions?.queryKey ??
    getGetAuditLogApiV1AuditLogsEntryIdGetQueryKey(entryId);

  const queryFn: QueryFunction<
    Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>
  > = ({ signal }) => getAuditLogApiV1AuditLogsEntryIdGet(entryId, signal);

  return {
    queryKey,
    queryFn,
    enabled: !!entryId,
    ...queryOptions,
  } as UseQueryOptions<
    Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type GetAuditLogApiV1AuditLogsEntryIdGetQueryResult = NonNullable<
  Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>
>;
export type GetAuditLogApiV1AuditLogsEntryIdGetQueryError = HTTPValidationError;

/**
 * @summary Get Audit Log
 */
export const useGetAuditLogApiV1AuditLogsEntryIdGet = <
  TData = Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>,
  TError = HTTPValidationError,
>(
  entryId: string,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof getAuditLogApiV1AuditLogsEntryIdGet>>,
        TError,
        TData
      >
    >;
  },
): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getGetAuditLogApiV1AuditLogsEntryIdGetQueryOptions(
    entryId,
    options,
  );

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & {
    queryKey: QueryKey;
  };

  query.queryKey = queryOptions.queryKey;

  return query;
};
