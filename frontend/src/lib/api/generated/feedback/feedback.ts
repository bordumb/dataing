/**
 * Generated by orval v6.31.0 ðŸº
 * Do not edit manually.
 * dataing
 * Autonomous Data Quality Investigation
 * OpenAPI spec version: 2.0.0
 */
import { useMutation, useQuery } from "@tanstack/react-query";
import type {
  MutationFunction,
  QueryFunction,
  QueryKey,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from "@tanstack/react-query";
import type {
  FeedbackCreate,
  FeedbackItem,
  FeedbackResponse,
  HTTPValidationError,
} from "../../model";
import { customInstance } from "../../client";

/**
 * Submit feedback on a hypothesis, query, evidence, synthesis, or investigation.
 * @summary Submit Feedback
 */
export const submitFeedbackApiV1FeedbackPost = (
  feedbackCreate: FeedbackCreate,
) => {
  return customInstance<FeedbackResponse>({
    url: `/api/v1/feedback/`,
    method: "POST",
    headers: { "Content-Type": "application/json" },
    data: feedbackCreate,
  });
};

export const getSubmitFeedbackApiV1FeedbackPostMutationOptions = <
  TError = HTTPValidationError,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>,
    TError,
    { data: FeedbackCreate },
    TContext
  >;
}): UseMutationOptions<
  Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>,
  TError,
  { data: FeedbackCreate },
  TContext
> => {
  const { mutation: mutationOptions } = options ?? {};

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>,
    { data: FeedbackCreate }
  > = (props) => {
    const { data } = props ?? {};

    return submitFeedbackApiV1FeedbackPost(data);
  };

  return { mutationFn, ...mutationOptions };
};

export type SubmitFeedbackApiV1FeedbackPostMutationResult = NonNullable<
  Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>
>;
export type SubmitFeedbackApiV1FeedbackPostMutationBody = FeedbackCreate;
export type SubmitFeedbackApiV1FeedbackPostMutationError = HTTPValidationError;

/**
 * @summary Submit Feedback
 */
export const useSubmitFeedbackApiV1FeedbackPost = <
  TError = HTTPValidationError,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>,
    TError,
    { data: FeedbackCreate },
    TContext
  >;
}): UseMutationResult<
  Awaited<ReturnType<typeof submitFeedbackApiV1FeedbackPost>>,
  TError,
  { data: FeedbackCreate },
  TContext
> => {
  const mutationOptions =
    getSubmitFeedbackApiV1FeedbackPostMutationOptions(options);

  return useMutation(mutationOptions);
};
/**
 * Get current user's feedback for an investigation.

Args:
    investigation_id: The investigation to get feedback for.
    auth: Authentication context.
    db: Application database.

Returns:
    List of feedback items for the investigation.
 * @summary Get Investigation Feedback
 */
export const getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet =
  (investigationId: string, signal?: AbortSignal) => {
    return customInstance<FeedbackItem[]>({
      url: `/api/v1/feedback/investigations/${investigationId}`,
      method: "GET",
      signal,
    });
  };

export const getGetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryKey =
  (investigationId: string) => {
    return [`/api/v1/feedback/investigations/${investigationId}`] as const;
  };

export const getGetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryOptions =
  <
    TData = Awaited<
      ReturnType<
        typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
      >
    >,
    TError = HTTPValidationError,
  >(
    investigationId: string,
    options?: {
      query?: Partial<
        UseQueryOptions<
          Awaited<
            ReturnType<
              typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
            >
          >,
          TError,
          TData
        >
      >;
    },
  ) => {
    const { query: queryOptions } = options ?? {};

    const queryKey =
      queryOptions?.queryKey ??
      getGetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryKey(
        investigationId,
      );

    const queryFn: QueryFunction<
      Awaited<
        ReturnType<
          typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
        >
      >
    > = ({ signal }) =>
      getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet(
        investigationId,
        signal,
      );

    return {
      queryKey,
      queryFn,
      enabled: !!investigationId,
      ...queryOptions,
    } as UseQueryOptions<
      Awaited<
        ReturnType<
          typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
        >
      >,
      TError,
      TData
    > & { queryKey: QueryKey };
  };

export type GetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryResult =
  NonNullable<
    Awaited<
      ReturnType<
        typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
      >
    >
  >;
export type GetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryError =
  HTTPValidationError;

/**
 * @summary Get Investigation Feedback
 */
export const useGetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet =
  <
    TData = Awaited<
      ReturnType<
        typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
      >
    >,
    TError = HTTPValidationError,
  >(
    investigationId: string,
    options?: {
      query?: Partial<
        UseQueryOptions<
          Awaited<
            ReturnType<
              typeof getInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGet
            >
          >,
          TError,
          TData
        >
      >;
    },
  ): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
    const queryOptions =
      getGetInvestigationFeedbackApiV1FeedbackInvestigationsInvestigationIdGetQueryOptions(
        investigationId,
        options,
      );

    const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & {
      queryKey: QueryKey;
    };

    query.queryKey = queryOptions.queryKey;

    return query;
  };
